# UI 首次使用教程

[English](../../en-US/gui/first-run.md)

本文面向首次使用 AWMKit 图形界面的用户，覆盖 macOS App 与 WinUI App 的最短可用路径。

## 1. 启动前准备

1. 确认应用可启动，右上角状态图标至少有基础可用提示（密钥/引擎/数据库）。
2. 准备测试音频（建议先用 `wav` 或 `flac`）。
3. 当前嵌入输出统一为 `WAV`（`FLAC` 输出暂时下线）。

## 2. 第一次打开先做什么

1. 进入`密钥`页。
2. 选择一个槽位（默认 `0`）。
3. 点击`生成`创建密钥。
4. 可选：给当前激活槽位设置标签，便于后续辨识。

说明：
- 未配置密钥时，`嵌入`按钮会禁用。
- `检测`可以执行，但结果可能为未校验状态（仅供参考，不可用于归属/取证）。

## 3. 录入标签映射（推荐）

1. 进入`标签`页（数据库页）。
2. 点击`添加映射`，输入用户名。
3. 保存后会生成并写入对应 Tag 映射。

后续嵌入时输入该用户名可自动复用已存储映射。

## 4. 第一次嵌入

1. 进入`嵌入`页。
2. 在输入摘要区选择输入文件或目录（目录仅扫描当前层，不递归）。
3. 可选设置输出目录（不设置则写回原目录）。
4. 输入用户名，确认 Tag 预览。
5. 点击`嵌入`开始处理队列。

关键行为：
- 拖拽支持文件和目录；拖拽只影响队列，不改输入源地址。
- 命中“已含水印”文件会自动跳过，并在批处理结束后汇总告警。
- 成功日志会附带 SNR（可用时）。

## 5. 第一次检测

1. 进入`检测`页。
2. 选择文件/目录或直接拖拽到队列区。
3. 点击`检测`。
4. 在检测信息卡片查看 `status/tag/identity/key_slot` 等字段。

说明：
- 无密钥或校验失败时，仍会显示可解析字段，并标记未校验警告。
- 未校验结果不可用于归属/取证。

## 6. 查看证据与记录

1. 回到`标签`页（数据库页）。
2. 右侧查看音频证据（identity、tag、slot、路径、时间等）。
3. 可用搜索框按用户名/tag/identity/路径/SHA256 筛选。

## 7. 常用数据位置

1. 数据库：
   - macOS / Linux：`~/.awmkit/awmkit.db`
   - Windows：`%LOCALAPPDATA%\\awmkit\\awmkit.db`
2. bundled audiowmark 缓存：
   - macOS：`~/.awmkit/bundled/bin/audiowmark`
   - Windows：`%LOCALAPPDATA%\\awmkit\\bundled\\bin\\audiowmark.exe`

## 8. 下一步

1. 深入命令行：[`../cli/usage.md`](../cli/usage.md)
2. 排查问题：[`../troubleshooting/common-issues.md`](../troubleshooting/common-issues.md)
